import React, { useState } from "react";
import { render, screen, getByTestId, fireEvent } from "@testing-library/react";
import { MessageFilter } from "./MessageFilter";

const _checkboxesProps = {
  one: {
    label: "The One",
    value: true,
  },
  two: {
    label: "The Two",
    value: false,
  },
  three: {
    label: "The Three",
    value: true,
  },
};

describe("Checkbox", () => {
  let checkboxesProps: any;
  beforeEach(() => {
    checkboxesProps = { ..._checkboxesProps };
  });
  describe("Smoke test", () => {
    it("Should render. (smoke test)", () => {
      render(<MessageFilter props={checkboxesProps} />);
      const checkboxesContainer = screen.getByTestId(
        "checkbox-array-container"
      );
      const checkboxes = checkboxesContainer.querySelectorAll(
        "input[type='checkbox']"
      ); // [0] as HTMLInputElement;
      expect(checkboxes.length).toStrictEqual(3);

      expect(screen.getByLabelText(/The One/i)).toBeInTheDocument();
      expect(screen.getByLabelText(/The Two/i)).toBeInTheDocument();
      expect(screen.getByLabelText(/The Three/i)).toBeInTheDocument();
    });
  });
});
